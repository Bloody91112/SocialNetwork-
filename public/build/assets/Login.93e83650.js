import{_ as f,a as p,r as w,o as l,c as i,b as s,w as u,v as h,d as a,e as n,T as d,t as c,f as m}from"./app.56519b3e.js";const g={name:"Login",data(){return{email:null,password:null,emailError:null,passwordError:null,commonError:null}},methods:{login(){if(this.emailError=null,this.passwordError=null,!this.email)return this.emailError="Field email is required";if(!this.password)return this.passwordError="Field password is required";p.get("/sanctum/csrf-cookie").then(()=>{p.post("/api/login",{email:this.email,password:this.password}).then(r=>{console.log(r),localStorage.setItem("x_xsrf_token",r.config.headers["X-XSRF-TOKEN"]),this.$store.dispatch("initializeUser"),w.push({name:"post.index"})}).catch(r=>{this.commonError=r.response.data.message})})}}},E={class:"card custom-card"},b=s("div",{class:"card-header"},"Login",-1),v={class:"card-body"},x={class:"row mb-3"},k=s("label",{for:"email",class:"col-md-4 col-form-label text-md-end"},"Email Address",-1),y={class:"col-md-6"},V={key:0,class:"text-green mt-2"},L={class:"row mb-3"},N=s("label",{for:"password",class:"col-md-4 col-form-label text-md-end"},"Password",-1),T={class:"col-md-6"},B={key:0,class:"text-green mt-2"},C={class:"row mb-3"},F={class:"col-md-8 offset-md-4"},S={key:0,class:"text-green mt-2"},U={class:"row mb-0"},q={class:"col-md-8 offset-md-4"};function D(r,e,X,z,o,_){return l(),i("div",E,[b,s("div",v,[s("div",x,[k,s("div",y,[u(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>o.email=t),type:"email",class:"form-control",name:"email"},null,512),[[h,o.email]]),a(d,{name:"fade"},{default:n(()=>[o.emailError?(l(),i("span",V,c(o.emailError),1)):m("",!0)]),_:1})])]),s("div",L,[N,s("div",T,[u(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),id:"password",type:"password",class:"form-control",name:"password"},null,512),[[h,o.password]]),a(d,{name:"fade"},{default:n(()=>[o.passwordError?(l(),i("span",B,c(o.passwordError),1)):m("",!0)]),_:1})])]),s("div",C,[s("div",F,[a(d,{name:"fade"},{default:n(()=>[o.commonError?(l(),i("span",S,c(o.commonError),1)):m("",!0)]),_:1})])]),s("div",U,[s("div",q,[s("button",{onClick:e[2]||(e[2]=(...t)=>_.login&&_.login(...t)),type:"submit",class:"btn btn-green"},"Login")])])])])}const I=f(g,[["render",D]]);export{I as default};
